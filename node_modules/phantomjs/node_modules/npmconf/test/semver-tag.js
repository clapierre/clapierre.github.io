var test=require("tap").test;var npmconf=require("../npmconf.js");var common=require("./00-setup.js");var path=require("path");var ucData=common.ucData;var envData=common.envData;var envDataFix=common.envDataFix;var gcData={"package-config:foo":"boo"};var biData={"builtin-config":true};var cli={tag:"v2.x"};var projectData={};var expectList=[cli,envDataFix,projectData,ucData,gcData,biData];var expectSources={cli:{data:cli},env:{data:envDataFix,source:envData,prefix:""},project:{path:path.resolve(__dirname,"..",".npmrc"),type:"ini",data:projectData},user:{path:common.userconfig,type:"ini",data:ucData},global:{path:common.globalconfig,type:"ini",data:gcData},builtin:{data:biData}};test("tag cannot be a SemVer",function(a){var c=[];console.warn=function(d){c.push(d)};var b=['invalid config tag="v2.x"',"invalid config Tag must not be a SemVer range"];npmconf.load(cli,common.builtin,function(e,d){if(e){throw e}a.equal(d.get("tag"),"latest");a.same(c,b);a.end()})});