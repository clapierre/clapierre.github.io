var test=require("tap").test;var once=require("../once.js");test("once",function(b){var e=0;function c(f){b.equal(e,0);e++;return e+f+this}c.ownProperty={};var h=once(c);b.equal(c.ownProperty,h.ownProperty);b.notOk(h.called);for(var a=0;a<1000;a++){b.same(e,a===0?0:1);var d=h.call(1,1);b.ok(h.called);b.same(d,3);b.same(e,1)}b.end()});