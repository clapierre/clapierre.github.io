module.exports=findPrefix;var fs=require("fs");var path=require("path");function findPrefix(c,b){function a(f,e){process.nextTick(function(){b(f,e)})}c=path.resolve(c);var d=false;while(path.basename(c)==="node_modules"){c=path.dirname(c);d=true}if(d){return a(null,c)}findPrefix_(c,c,a)}function findPrefix_(c,b,a){if(c==="/"||(process.platform==="win32"&&c.match(/^[a-zA-Z]:(\\|\/)?$/))){return a(null,b)}fs.readdir(c,function(g,e){if(g&&c===b){if(g.code==="ENOENT"){return a(null,b)}return a(g)}if(g){return a(null,b)}if(e.indexOf("node_modules")!==-1||e.indexOf("package.json")!==-1){return a(null,c)}var f=path.dirname(c);if(f===c){return a(null,b)}return findPrefix_(f,b,a)})};