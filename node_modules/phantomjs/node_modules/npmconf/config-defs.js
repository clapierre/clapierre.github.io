function Octal(){}function validateOctal(e,r,a){if("number"==typeof a)return e[r]=a,!0;if("string"==typeof a){if("0"!==a.charAt(0)||isNaN(a))return!1;e[r]=parseInt(a,8).toString(8)}}function validateSemver(e,r,a){return semver.valid(a)?void(e[r]=semver.valid(a)):!1}function validateTag(e,r,a){return a=(""+a).trim(),!a||semver.validRange(a)?!1:void(e[r]=a)}function validateStream(e,r,a){return a instanceof Stream?void(e[r]=a):!1}function getLocalAddresses(){Object.keys(os.networkInterfaces()).map(function(e){return os.networkInterfaces()[e].filter(function(e){return"IPv4"===e.family}).map(function(e){return e.address})}).reduce(function(e,r){return e.concat(r)},[]).concat(void 0)}var path=require("path"),url=require("url"),Stream=require("stream").Stream,semver=require("semver"),stableFamily=semver.parse(process.version),nopt=require("nopt"),os=require("os"),osenv=require("osenv"),log;try{log=require("npmlog")}catch(er){var util=require("util");log={warn:function(e){console.warn(e+" "+util.format.apply(util,[].slice.call(arguments,1)))}}}exports.Octal=Octal,nopt.typeDefs.semver={type:semver,validate:validateSemver},nopt.typeDefs.Octal={type:Octal,validate:validateOctal},nopt.typeDefs.Stream={type:Stream,validate:validateStream};var tag={};nopt.typeDefs.tag={type:tag,validate:validateTag},nopt.invalidHandler=function(e,r,a){switch(log.warn("invalid config",e+"="+JSON.stringify(r)),Array.isArray(a)&&(-1!==a.indexOf(url)?a=url:-1!==a.indexOf(path)&&(a=path)),a){case tag:log.warn("invalid config","Tag must not be a SemVer range");break;case Octal:log.warn("invalid config","Must be octal number, starting with 0");break;case url:log.warn("invalid config","Must be a full url with 'http://'");break;case path:log.warn("invalid config","Must be a valid filesystem path");break;case Number:log.warn("invalid config","Must be a numeric value");break;case Stream:log.warn("invalid config","Must be an instance of the Stream class")}},stableFamily=!stableFamily||+stableFamily.minor%2?null:stableFamily.major+"."+stableFamily.minor;var defaults,temp=osenv.tmpdir(),home=osenv.home(),uidOrPid=process.getuid?process.getuid():process.pid;home?process.env.HOME=home:home=path.resolve(temp,"npm-"+uidOrPid);var cacheExtra="win32"===process.platform?"npm-cache":".npm",cacheRoot="win32"===process.platform&&process.env.APPDATA||home,cache=path.resolve(cacheRoot,cacheExtra),globalPrefix;Object.defineProperty(exports,"defaults",{get:function(){return defaults?defaults:(process.env.PREFIX?globalPrefix=process.env.PREFIX:"win32"===process.platform?globalPrefix=path.dirname(process.execPath):(globalPrefix=path.dirname(path.dirname(process.execPath)),process.env.DESTDIR&&(globalPrefix=path.join(process.env.DESTDIR,globalPrefix))),defaults={"always-auth":!1,"bin-links":!0,browser:null,ca:null,cafile:null,cache:cache,"cache-lock-stale":6e4,"cache-lock-retries":10,"cache-lock-wait":1e4,"cache-max":1/0,"cache-min":10,cert:null,color:!0,depth:1/0,description:!0,dev:!1,editor:osenv.editor(),"engine-strict":!1,force:!1,"fetch-retries":2,"fetch-retry-factor":10,"fetch-retry-mintimeout":1e4,"fetch-retry-maxtimeout":6e4,git:"git","git-tag-version":!0,global:!1,globalconfig:path.resolve(globalPrefix,"etc","npmrc"),group:"win32"===process.platform?0:process.env.SUDO_GID||process.getgid&&process.getgid(),heading:"npm","ignore-scripts":!1,"init-module":path.resolve(home,".npm-init.js"),"init.author.name":"","init.author.email":"","init.author.url":"","init.version":"1.0.0","init.license":"ISC",json:!1,key:null,link:!1,"local-address":void 0,loglevel:"warn",logstream:process.stderr,"long":!1,message:"%s","node-version":process.version,npat:!1,"onload-script":!1,optional:!0,parseable:!1,prefix:globalPrefix,production:"production"===process.env.NODE_ENV,"proprietary-attribs":!0,proxy:process.env.HTTP_PROXY||process.env.http_proxy||null,"https-proxy":process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null,"user-agent":"npm/{npm-version} node/{node-version} {platform} {arch}","rebuild-bundle":!0,registry:"https://registry.npmjs.org/",rollback:!0,save:!1,"save-bundle":!1,"save-dev":!1,"save-exact":!1,"save-optional":!1,"save-prefix":"^",scope:"",searchopts:"",searchexclude:null,searchsort:"name",shell:osenv.shell(),shrinkwrap:!0,"sign-git-tag":!1,spin:!0,"strict-ssl":!0,tag:"latest",tmp:temp,unicode:!0,"unsafe-perm":"win32"===process.platform||"cygwin"===process.platform||!(process.getuid&&process.setuid&&process.getgid&&process.setgid)||0!==process.getuid(),usage:!1,user:"win32"===process.platform?0:"nobody",userconfig:path.resolve(home,".npmrc"),umask:process.umask?process.umask():parseInt("022",8),version:!1,versions:!1,viewer:"win32"===process.platform?"browser":"man",_exit:!0})}}),exports.types={"always-auth":Boolean,"bin-links":Boolean,browser:[null,String],ca:[null,String,Array],cafile:path,cache:path,"cache-lock-stale":Number,"cache-lock-retries":Number,"cache-lock-wait":Number,"cache-max":Number,"cache-min":Number,cert:[null,String],color:["always",Boolean],depth:Number,description:Boolean,dev:Boolean,editor:String,"engine-strict":Boolean,force:Boolean,"fetch-retries":Number,"fetch-retry-factor":Number,"fetch-retry-mintimeout":Number,"fetch-retry-maxtimeout":Number,git:String,"git-tag-version":Boolean,global:Boolean,globalconfig:path,group:[Number,String],"https-proxy":[null,url],"user-agent":String,heading:String,"ignore-scripts":Boolean,"init-module":path,"init.author.name":String,"init.author.email":String,"init.author.url":["",url],"init.license":String,"init.version":semver,json:Boolean,key:[null,String],link:Boolean,"local-address":getLocalAddresses(),loglevel:["silent","error","warn","http","info","verbose","silly"],logstream:Stream,"long":Boolean,message:String,"node-version":[null,semver],npat:Boolean,"onload-script":[null,String],optional:Boolean,parseable:Boolean,prefix:path,production:Boolean,"proprietary-attribs":Boolean,proxy:[null,url],"rebuild-bundle":Boolean,registry:[null,url],rollback:Boolean,save:Boolean,"save-bundle":Boolean,"save-dev":Boolean,"save-exact":Boolean,"save-optional":Boolean,"save-prefix":String,scope:String,searchopts:String,searchexclude:[null,String],searchsort:["name","-name","description","-description","author","-author","date","-date","keywords","-keywords"],shell:String,shrinkwrap:Boolean,"sign-git-tag":Boolean,spin:["always",Boolean],"strict-ssl":Boolean,tag:tag,tmp:path,unicode:Boolean,"unsafe-perm":Boolean,usage:Boolean,user:[Number,String],userconfig:path,umask:Octal,version:Boolean,versions:Boolean,viewer:String,_exit:Boolean},exports.shorthands={s:["--loglevel","silent"],d:["--loglevel","info"],dd:["--loglevel","verbose"],ddd:["--loglevel","silly"],noreg:["--no-registry"],N:["--no-registry"],reg:["--registry"],"no-reg":["--no-registry"],silent:["--loglevel","silent"],verbose:["--loglevel","verbose"],quiet:["--loglevel","warn"],q:["--loglevel","warn"],h:["--usage"],H:["--usage"],"?":["--usage"],help:["--usage"],v:["--version"],f:["--force"],gangster:["--force"],gangsta:["--force"],desc:["--description"],"no-desc":["--no-description"],local:["--no-global"],l:["--long"],m:["--message"],p:["--parseable"],porcelain:["--parseable"],g:["--global"],S:["--save"],D:["--save-dev"],E:["--save-exact"],O:["--save-optional"],y:["--yes"],n:["--no-yes"],B:["--save-bundle"],C:["--prefix"]};