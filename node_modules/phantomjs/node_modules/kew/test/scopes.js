var Q=require("../kew");exports.testThen=function(b){var a=null;Q.resolve(true).then(function(){a=this});b.ok(Q.isPromise(a),"then() should be called in context of promise");b.done()};exports.testFail=function(b){var a=null;Q.reject(new Error()).fail(function(){a=this});b.ok(Q.isPromise(a),"fail() should be called in context of promise");b.done()};exports.testThenBound=function(c){var b=a;var a={};Q.resolve(true).thenBound(function(){b=a},a);c.ok(b===a,"thenScoped() should be called in context of scope");c.done()};exports.testFailBound=function(c){var b=a;var a={};Q.reject(new Error()).failBound(function(){b=a},a);c.equal(b,a,"failBound() should be called in context of scope");c.done()};exports.testThenBoundWithArgs=function(c){var b=a;var a={};Q.resolve(-1).thenBound(function(f,e,h,g){c.equal(f,1);c.equal(e,2);c.equal(h,3);c.equal(g,-1);b=a},a,1,2,3);c.ok(b===a,"failScoped() should be called in context of scope");c.done()};