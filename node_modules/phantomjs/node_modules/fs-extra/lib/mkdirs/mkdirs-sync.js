var fs=require("graceful-fs");var path=require("path");var o777=parseInt("0777",8);function mkdirsSync(f,e,h){if(!e||typeof e!=="object"){e={mode:e}}var g=e.mode;var c=e.fs||fs;if(g===undefined){g=o777&(~process.umask())}if(!h){h=null}f=path.resolve(f);try{c.mkdirSync(f,g);h=h||f}catch(b){switch(b.code){case"ENOENT":h=mkdirsSync(path.dirname(f),e,h);mkdirsSync(f,e,h);break;default:var d;try{d=c.statSync(f)}catch(a){throw b}if(!d.isDirectory()){throw b}break}}return h}module.exports=mkdirsSync;