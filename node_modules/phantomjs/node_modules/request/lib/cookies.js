var optional=require("./optional"),tough=optional("tough-cookie"),Cookie=tough&&tough.Cookie,CookieJar=tough&&tough.CookieJar;exports.parse=function(a){if(a&&a.uri){a=a.uri}if(typeof a!=="string"){throw new Error("The cookie function only accepts STRING as param")}if(!Cookie){return null}return Cookie.parse(a)};function RequestJar(){this._jar=new CookieJar()}RequestJar.prototype.setCookie=function(a,c,b){return this._jar.setCookieSync(a,c,b||{})};RequestJar.prototype.getCookieString=function(a){return this._jar.getCookieStringSync(a)};RequestJar.prototype.getCookies=function(a){return this._jar.getCookiesSync(a)};exports.jar=function(){if(!CookieJar){return{setCookie:function(){},getCookieString:function(){},getCookies:function(){}}}return new RequestJar()};