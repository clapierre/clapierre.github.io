function XUnit(e){Base.call(this,e);var t=this.stats,s=[];e.on("pending",function(e){s.push(e)}),e.on("pass",function(e){s.push(e)}),e.on("fail",function(e){s.push(e)}),e.on("end",function(){console.log(tag("testsuite",{name:"Mocha Tests",tests:t.tests,failures:t.failures,errors:t.failures,skipped:t.tests-t.failures-t.passes,timestamp:(new Date).toUTCString(),time:t.duration/1e3||0},!1)),s.forEach(test),console.log("</testsuite>")})}function test(e){var t={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3||0};if("failed"==e.state){var s=e.err;t.message=escape(s.message),console.log(tag("testcase",t,!1,tag("failure",t,!1,cdata(s.stack))))}else console.log(e.pending?tag("testcase",t,!1,tag("skipped",{},!0)):tag("testcase",t,!0))}function tag(e,t,s,a){var o,n=s?"/>":">",i=[];for(var l in t)i.push(l+'="'+escape(t[l])+'"');return o="<"+e+(i.length?" "+i.join(" "):"")+n,a&&(o+=a+"</"+e+n),o}function cdata(e){return"<![CDATA["+escape(e)+"]]>"}var Base=require("./base"),utils=require("../utils"),escape=utils.escape,Date=global.Date,setTimeout=global.setTimeout,setInterval=global.setInterval,clearTimeout=global.clearTimeout,clearInterval=global.clearInterval;exports=module.exports=XUnit,XUnit.prototype.__proto__=Base.prototype;