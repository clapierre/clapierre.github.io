function Markdown(t){function n(t){return Array(s).join("#")+" "+t}function i(t,n){var e=n;return n=n[t.title]=n[t.title]||{suite:t},t.suites.forEach(function(t){i(t,n)}),e}function e(t,n){++n;var i,r="";for(var s in t)"suite"!=s&&(s&&(i=" - ["+s+"](#"+utils.slug(t[s].suite.fullTitle())+")\n"),s&&(r+=Array(n).join("  ")+i),r+=e(t[s],n));return--n,r}function r(t){var n=i(t,{});return e(n,0)}Base.call(this,t);var s=(this.stats,0),u="";r(t.suite),t.on("suite",function(t){++s;var i=utils.slug(t.fullTitle());u+='<a name="'+i+'"></a>\n',u+=n(t.title)+"\n"}),t.on("suite end",function(){--s}),t.on("pass",function(t){var n=utils.clean(t.fn.toString());u+=t.title+".\n",u+="\n```js\n",u+=n+"\n",u+="```\n\n"}),t.on("end",function(){process.stdout.write("# TOC\n"),process.stdout.write(r(t.suite)),process.stdout.write(u)})}var Base=require("./base"),utils=require("../utils");exports=module.exports=Markdown;