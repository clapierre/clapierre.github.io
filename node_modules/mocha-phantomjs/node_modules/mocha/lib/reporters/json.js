var Base=require("./base"),cursor=Base.cursor,color=Base.color;exports=module.exports=JSONReporter;function JSONReporter(e){var a=this;Base.call(this,e);var c=[],b=[],d=[];e.on("test end",function(f){c.push(f)});e.on("pass",function(f){d.push(f)});e.on("fail",function(f){b.push(f)});e.on("end",function(){var f={stats:a.stats,tests:c.map(clean),failures:b.map(clean),passes:d.map(clean)};process.stdout.write(JSON.stringify(f,null,2))})}function clean(a){return{title:a.title,fullTitle:a.fullTitle(),duration:a.duration,err:a.err}};