var Suite=require("../suite"),Test=require("../test"),utils=require("../utils");module.exports=function(a){var b=[a];a.on("pre-require",function(e,d,c){e.before=function(f,g){b[0].beforeAll(f,g)};e.after=function(f,g){b[0].afterAll(f,g)};e.beforeEach=function(f,g){b[0].beforeEach(f,g)};e.afterEach=function(f,g){b[0].afterEach(f,g)};e.suite=function(g){if(b.length>1){b.shift()}var f=Suite.create(b[0],g);f.file=d;b.unshift(f);return f};e.suite.only=function(h,g){var f=e.suite(h,g);c.grep(f.fullTitle())};e.test=function(g,f){var h=new Test(g,f);h.file=d;b[0].addTest(h);return h};e.test.only=function(h,g){var i=e.test(h,g);var f="^"+utils.escapeRegexp(i.fullTitle())+"$";c.grep(new RegExp(f))};e.test.skip=function(f){e.test(f)}})};