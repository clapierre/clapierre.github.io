var Suite=require("../suite"),Test=require("../test"),utils=require("../utils");module.exports=function(a){var b=[a];a.on("pre-require",function(e,d,c){e.setup=function(f,g){b[0].beforeEach(f,g)};e.teardown=function(f,g){b[0].afterEach(f,g)};e.suiteSetup=function(f,g){b[0].beforeAll(f,g)};e.suiteTeardown=function(f,g){b[0].afterAll(f,g)};e.suite=function(h,g){var f=Suite.create(b[0],h);f.file=d;b.unshift(f);g.call(f);b.shift();return f};e.suite.skip=function(h,g){var f=Suite.create(b[0],h);f.pending=true;b.unshift(f);g.call(f);b.shift()};e.suite.only=function(h,g){var f=e.suite(h,g);c.grep(f.fullTitle())};e.test=function(h,g){var f=b[0];if(f.pending){var g=null}var i=new Test(h,g);i.file=d;f.addTest(i);return i};e.test.only=function(h,g){var i=e.test(h,g);var f="^"+utils.escapeRegexp(i.fullTitle())+"$";c.grep(new RegExp(f))};e.test.skip=function(f){e.test(f)}})};