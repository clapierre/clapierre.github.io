var Suite=require("../suite"),Test=require("../test"),utils=require("../utils");module.exports=function(a){var b=[a];a.on("pre-require",function(e,d,c){e.before=function(f,g){b[0].beforeAll(f,g)};e.after=function(f,g){b[0].afterAll(f,g)};e.beforeEach=function(f,g){b[0].beforeEach(f,g)};e.afterEach=function(f,g){b[0].afterEach(f,g)};e.describe=e.context=function(h,g){var f=Suite.create(b[0],h);f.file=d;b.unshift(f);g.call(f);b.shift();return f};e.xdescribe=e.xcontext=e.describe.skip=function(h,g){var f=Suite.create(b[0],h);f.pending=true;b.unshift(f);g.call(f);b.shift()};e.describe.only=function(h,g){var f=e.describe(h,g);c.grep(f.fullTitle());return f};e.it=e.specify=function(h,g){var f=b[0];if(f.pending){var g=null}var i=new Test(h,g);i.file=d;f.addTest(i);return i};e.it.only=function(h,g){var i=e.it(h,g);var f="^"+utils.escapeRegexp(i.fullTitle())+"$";c.grep(new RegExp(f));return i};e.xit=e.xspecify=e.it.skip=function(f){e.it(f)}})};