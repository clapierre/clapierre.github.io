var path=require("path"),yuiRegexp=/yui-nodejs\.js$/;module.exports=function(b,c,a){return function(g){if(!g.match(yuiRegexp)){return}var e=require(g),f,d,h;if(e.YUI){f=e.YUI;d=f.Env&&f.Env.mods&&f.Env.mods["loader-base"]?f.Env.mods["loader-base"].fn:null;if(!d){return}if(a){console.log("Applying YUI load post-hook")}f.Env.mods["loader-base"].fn=function(i){d.call(null,i);h=i.Get._exec;i.Get._exec=function(m,k,j){if(b(k)||b(path.resolve(k))){if(a){console.log("Transforming ["+k+"]")}try{m=c(m,k)}catch(l){console.error("Error transforming: "+k+" return original code");console.error(l.message||l);if(l.stack){console.error(l.stack)}}}return h.call(i,m,k,j)};return i}}}};