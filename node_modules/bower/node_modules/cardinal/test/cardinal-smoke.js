"use strict";var test=require("tap").test,path=require("path"),fs=require("fs"),readdirp=require("readdirp"),cardinal=require(".."),node_modules=path.join(__dirname,"..","node_modules"),tapdir=path.join(node_modules,"tap"),redeyeddir=path.join(node_modules,"redeyed");test("tap",function(a){var b=["async-map-ordered.js","prof.js"];readdirp({root:tapdir,fileFilter:"*.js"}).on("data",function(e){if(~b.indexOf(e.name)){return}var d=fs.readFileSync(e.fullPath,"utf-8"),c=cardinal.highlight(d);a.assert(~c.indexOf("[32mvar\u001b[39m")||!(~c.indexOf("var ")),"highlighted "+e.path)}).on("end",a.end.bind(a))});test("redeyed",function(a){readdirp({root:redeyeddir,fileFilter:"redeyed.js"}).on("data",function(d){var c=fs.readFileSync(d.fullPath,"utf-8"),b=cardinal.highlight(c);a.assert(~b.indexOf("[32mvar\u001b[39m")||!(~b.indexOf("var ")),"highlighted "+d.path)}).on("end",a.end.bind(a))});