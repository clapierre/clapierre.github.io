"use strict";var test=require("tap").test,util=require("util"),path=require("path"),cardinal=require("..");function inspect(a){return console.log(util.inspect(a,false,5,false))}var file=path.join(__dirname,"fixtures/json.json");test("json option set from extension",function(a){var b=cardinal.highlightFileSync(file);a.equals(b,'\u001b[33m{\u001b[39m\u001b[92m"foo"\u001b[39m\u001b[93m:\u001b[39m\u001b[92m"bar"\u001b[39m\u001b[32m,\u001b[39m\u001b[92m"baz"\u001b[39m\u001b[93m:\u001b[39m\u001b[92m"quux"\u001b[39m\u001b[32m,\u001b[39m\u001b[92m"bam"\u001b[39m\u001b[93m:\u001b[39m\u001b[90mnull\u001b[39m\u001b[33m}\u001b[39m');a.end()});test("json option respected if false",function(a){try{var b=cardinal.highlightFileSync(file,{json:false})}catch(c){a.similar(c.message,/Unable to perform highlight. The code contained syntax errors.* Line 1: Unexpected token /);a.end()}});