var fs=require("fs"),highlight=require("./highlight");function isFunction(a){return toString.call(a)=="[object Function]"}module.exports=function highlightFile(b,c,a){if(isFunction(c)){a=c;c={}}c=c||{};if(c.json!==false&&b.match(/\.json$/i)){c.json=true}fs.readFile(b,"utf-8",function(f,d){if(f){return a(f)}try{a(null,highlight(d,c))}catch(g){a(g)}})};