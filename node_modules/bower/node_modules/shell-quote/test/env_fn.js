var test=require("tape");var parse=require("../").parse;test("functional env expansion",function(c){c.plan(4);c.same(parse("a $XYZ c",b),["a","xxx","c"]);c.same(parse("a $XYZ c",a),["a",{op:"@@"},"c"]);c.same(parse("a${XYZ}c",a),["a",{op:"@@"},"c"]);c.same(parse('"a $XYZ c"',a),["a ",{op:"@@"}," c"]);function b(d){return"xxx"}function a(d){return{op:"@@"}}});