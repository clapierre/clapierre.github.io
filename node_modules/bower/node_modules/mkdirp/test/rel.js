var mkdirp=require("../");var path=require("path");var fs=require("fs");var exists=fs.exists||path.exists;var test=require("tap").test;test("rel",function(c){c.plan(5);var a=Math.floor(Math.random()*Math.pow(16,4)).toString(16);var f=Math.floor(Math.random()*Math.pow(16,4)).toString(16);var e=Math.floor(Math.random()*Math.pow(16,4)).toString(16);var d=process.cwd();process.chdir("/tmp");var b=[a,f,e].join("/");mkdirp(b,493,function(g){c.ifError(g);exists(b,function(h){c.ok(h,"file created");fs.stat(b,function(j,i){c.ifError(j);process.chdir(d);c.equal(i.mode&511,493);c.ok(i.isDirectory(),"target not a directory")})})})});