var mkdirp=require("../");var path=require("path");var fs=require("fs");var exists=fs.exists||path.exists;var test=require("tap").test;test("sync perm",function(b){b.plan(4);var a="/tmp/"+(Math.random()*(1<<30)).toString(16)+".json";mkdirp.sync(a,493);exists(a,function(c){b.ok(c,"file created");fs.stat(a,function(e,d){b.ifError(e);b.equal(d.mode&511,493);b.ok(d.isDirectory(),"target not a directory")})})});test("sync root perm",function(b){b.plan(3);var a="/tmp";mkdirp.sync(a,493);exists(a,function(c){b.ok(c,"file created");fs.stat(a,function(e,d){b.ifError(e);b.ok(d.isDirectory(),"target not a directory")})})});