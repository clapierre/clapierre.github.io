"use strict";var path=require("path");var childProcess=require("child_process");module.exports=function(f,g,a){if(typeof f!=="string"){throw new Error("Expected a `target`")}if(typeof g==="function"){a=g;g=null}var d;var b=[];if(process.platform==="darwin"){d="open";if(a){b.push("-W")}if(g){b.push("-a",g)}}else{if(process.platform==="win32"){d="cmd";b.push("/c","start");f=f.replace(/&/g,"^&");if(a){b.push("/wait")}if(g){b.push(g)}}else{if(g){d=g}else{d=path.join(__dirname,"xdg-open")}}}b.push(f);var c={};if(!a){c.stdio="ignore"}var e=childProcess.spawn(d,b,c);if(a){e.once("error",a);e.once("close",a)}else{e.unref()}};