"use strict";var Q=require("../q");var fs=require("fs");suite("A single simple async operation",function(){bench("with an immediately-fulfilled promise",function(a){Q().then(a)});bench("with direct setImmediate usage",function(a){setImmediate(a)});bench("with direct setTimeout(â€¦, 0)",function(a){setTimeout(a,0)})});suite("A fs.readFile",function(){var a=Q.denodeify(fs.readFile);set("iterations",1000);set("delay",1000);bench("directly, with callbacks",function(b){fs.readFile(__filename,b)});bench("with Q.nfcall",function(b){Q.nfcall(fs.readFile,__filename).then(b)});bench("with a Q.denodeify'ed version",function(b){a(__filename).then(b)});bench("with manual usage of deferred.makeNodeResolver",function(b){var c=Q.defer();fs.readFile(__filename,c.makeNodeResolver());c.promise.then(b)})});suite("1000 operations in parallel",function(){function b(d,e){var c=0;return function(){if(++c===d){e()}}}var a=1000;bench("with immediately-fulfilled promises",function(d){var c=b(a,d);for(var e=0;e<a;++e){Q().then(c)}});bench("with direct setImmediate usage",function(d){var c=b(a,d);for(var e=0;e<a;++e){setImmediate(c)}})});