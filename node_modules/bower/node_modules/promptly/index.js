"use strict";var read=require("read");var promptly=module.exports;promptly.prompt=function(d,c,b){if(typeof c==="function"){b=c;c={}}else{if(!c){c={}}}if(c.trim===undefined){c.trim=true}if(c.retry===undefined){c.retry=true}var a={prompt:d,input:c.input||process.stdin,output:c.output||process.stdout,silent:c.silent};read(a,function(h,i){if(h){return}if(c.trim){i=i.trim()}if(c["default"]==null&&!i){return promptly.prompt(d,c,b)}else{i=i||c["default"]}if(c.validator){if(!Array.isArray(c.validator)){c.validator=[c.validator]}var f;var g=c.validator.length;for(f=0;f<g;f+=1){try{i=c.validator[f](i)}catch(j){if(c.retry){if(j.message){a.output.write(j.message+"\n")}return promptly.prompt(d,c,b)}j.retry=promptly.prompt.bind(promptly,d,c,b);return b(j)}}}b(null,i)})};promptly.password=function(c,b,a){if(typeof b==="function"){a=b;b={}}else{b=b||{}}if(b.silent===undefined){b.silent=true}if(b.trim===undefined){b.trim=false}if(b["default"]===undefined){b["default"]=""}promptly.prompt(c,b,a)};promptly.confirm=function(d,c,b){if(typeof c==="function"){b=c;c={}}else{if(!c){c={}}}c.validator=c.validator||[];if(!Array.isArray(c.validator)){c.validator=[c.validator]}var a=function(e){if(typeof e==="string"){e=e.toLowerCase()}switch(e){case"y":case"yes":case"1":case true:return true;case"n":case"no":case"0":case false:return false}throw new Error()};c.validator.push(a);promptly.choose(d,[true,false],c,b)};promptly.choose=function(e,f,d,c){if(typeof d==="function"){c=d;d={}}else{if(!d){d={}}}d.validator=d.validator||[];if(!Array.isArray(d.validator)){d.validator=[d.validator]}var a=f.length;var b=function(h){var g;for(g=0;g<a;g++){if(f[g]==h){return f[g]}}throw new Error("Invalid choice: "+h)};d.validator.push(b);promptly.prompt(e,d,c)};