function Prompt(){Base.apply(this,arguments);var t=!0;return _.extend(this.opt,{filter:function(e){var r=t;return null!=e&&""!==e&&(r=/^y(es)?/i.test(e)),r}.bind(this)}),_.isBoolean(this.opt["default"])&&(t=this.opt["default"]),this.opt["default"]=t?"Y/n":"y/N",this}var _=require("lodash"),util=require("util"),chalk=require("chalk"),Base=require("./base"),observe=require("../utils/events");module.exports=Prompt,util.inherits(Prompt,Base),Prompt.prototype._run=function(t){return this.done=t,observe(this.rl).line.take(1).forEach(this.onEnd.bind(this)),this.render(),this},Prompt.prototype.render=function(){var t=this.getQuestion();this.write(t);var e=t.split(/\n/);return this.height=e.length,this.rl.setPrompt(_.last(e)),this},Prompt.prototype.onEnd=function(t){this.status="answered";var e=this.opt.filter(t);this.clean(1).render(),this.write(chalk.cyan(e?"Yes":"No")+"\n"),this.done(t)};
