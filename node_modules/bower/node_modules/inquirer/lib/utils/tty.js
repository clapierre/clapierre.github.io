var _=require("lodash");var readline=require("readline");var clc=require("cli-color");var tty=module.exports;tty.clean=function(b){_.isNumber(b)||(b=0);var a=this.height+b;while(a--){readline.moveCursor(this.rl.output,-clc.width,0);readline.clearLine(this.rl.output,0);if(a){readline.moveCursor(this.rl.output,0,-1)}}return this};tty.down=function(a){_.isNumber(a)||(a=1);while(a--){this.write("\n")}return this};tty.up=function(a){_.isNumber(a)||(a=1);readline.moveCursor(this.rl.output,0,-a);return this};tty.write=function(a){this.rl.output.write(a);return this};tty.hideCursor=function(){return this.write("\x1B[?25l")};tty.showCursor=function(){return this.write("\x1B[?25h")};tty.cacheCursorPos=function(){this.cursorPos=this.rl._getCursorPos();return this};tty.restoreCursorPos=function(){if(!this.cursorPos){return}var a=this.rl._prompt+this.rl.line;readline.moveCursor(this.rl.output,-a.length,0);readline.moveCursor(this.rl.output,this.cursorPos.cols,0);this.cursorPos=null;return this};