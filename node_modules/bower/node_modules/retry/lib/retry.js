var RetryOperation=require("./retry_operation");exports.operation=function(b){var a=exports.timeouts(b);return new RetryOperation(a)};exports.timeouts=function(b){if(b instanceof Array){return[].concat(b)}var e={retries:10,factor:2,minTimeout:1*1000,maxTimeout:Infinity,randomize:false};for(var d in b){e[d]=b[d]}if(e.minTimeout>e.maxTimeout){throw new Error("minTimeout is greater than maxTimeout")}var a=[];for(var c=0;c<e.retries;c++){a.push(this._createTimeout(c,e))}a.sort(function(g,f){return g-f});return a};exports._createTimeout=function(a,c){var b=(c.randomize)?(Math.random()+1):1;var d=Math.round(b*c.minTimeout*Math.pow(c.factor,a));d=Math.min(d,c.maxTimeout);return d};