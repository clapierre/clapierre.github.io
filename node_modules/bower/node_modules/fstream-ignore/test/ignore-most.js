var IgnoreFile=require("../");var c=require("./common.js");c.ignores({".ignore":["*","!a/b/c/.abc","!/c/b/a/cba"]});var expected=["/a/b/c/.abc","/a","/a/b","/a/b/c","/c/b/a/cba","/c","/c/b","/c/b/a"];require("tap").test("basic ignore rules",function(a){a.pass("start");IgnoreFile({path:__dirname+"/fixtures",ignoreFiles:[".ignore"]}).on("ignoreFile",function(b){console.error("ignore file!",b)}).on("child",function(f){var d=f.path.substr(f.root.path.length);var b=expected.indexOf(d);if(b===-1){a.fail("unexpected file found",{file:d})}else{a.pass(d);expected.splice(b,1)}}).on("close",function(){a.notOk(expected.length,"all expected files should be seen");a.end()})});