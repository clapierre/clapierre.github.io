"use strict";var request=require("request");var async=require("async");var assign=require("object-assign");var Insight=require("./");process.on("message",function(d){var a=new Insight(d);var b=a.config;var c=b.get("queue")||{};assign(c,d.queue);b.del("queue");async.forEachSeries(Object.keys(c),function(f,e){var h=f.split(" ");var i=h[0];var g=h[1];request(a._getRequestObj(i,g),function(l,k,j){if(l){e(l);return}e()})},function(e){if(e){var f=b.get("queue")||{};assign(f,c);b.set("queue",f)}process.exit()})});