var parseUrl=require("url").parse;var request=require("request");var createError=require("./util/createError");function unregister(b,f){var a=this._config;var c=a.registry.register+"/packages/"+b;var d=parseUrl(c);var e={};if(a.userAgent){e["User-Agent"]=a.userAgent}if(a.accessToken){c+="?access_token="+a.accessToken}request.del({url:c,proxy:d.protocol==="https:"?a.httpsProxy:a.proxy,headers:e,ca:a.ca.register,strictSSL:a.strictSsl,timeout:a.timeout},function(h,g){if(h){return f(createError("Request to "+c+" failed: "+h.message,h.code))}if(g.statusCode===403){return f(createError(g.body,"EFORBIDDEN"))}if(g.statusCode!==204){return f(createError(g.body,"EUNKNOWN"))}f(null,{name:b})})}module.exports=unregister;