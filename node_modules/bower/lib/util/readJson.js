var path=require("path");var bowerJson=require("bower-json");var Q=require("q");function readJson(b,a){a=a||{};return Q.nfcall(bowerJson.read,b,a).spread(function(e,d){var c;d=path.basename(d);c=d==="component.json"?d:false;return[e,c,false]},function(c){if(c.code==="ENOENT"&&a.assume){return[bowerJson.parse(a.assume,a),false,true]}c.details=c.message;if(c.file){c.message="Failed to read "+c.file;c.data={filename:c.file}}else{c.message="Failed to read json from "+b}throw c})}module.exports=readJson;