var mout=require("mout");var Q=require("q");var endpointParser=require("bower-endpoint-parser");var PackageRepository=require("../core/PackageRepository");var cli=require("../util/cli");var Tracker=require("../util/analytics").Tracker;var defaultConfig=require("../config");function info(b,g,f,a){var c;var e;var d;a=defaultConfig(a);c=new PackageRepository(a,b);d=new Tracker(a);e=endpointParser.decompose(g);d.trackDecomposedEndpoints("info",[e]);return Q.all([getPkgMeta(c,e,f),e.target==="*"&&!f?c.versions(e.source):null]).spread(function(i,h){if(h){return{name:e.source,versions:h,latest:i}}return i})}function getPkgMeta(a,b,c){return a.fetch(b).spread(function(d,e){e=mout.object.filter(e,function(g,f){return f.charAt(0)!=="_"});if(c){e=mout.object.get(e,c)}return e})}info.line=function(d,a){var c=cli.readOptions(a);var b=c.argv.remain[1];var e=c.argv.remain[2];if(!b){return new Q()}return info(d,b,e)};info.completion=function(){};module.exports=info;