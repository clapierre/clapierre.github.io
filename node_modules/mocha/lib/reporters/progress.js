var Base=require("./base"),cursor=Base.cursor,color=Base.color;exports=module.exports=Progress;Base.colors.progress=90;function Progress(g,i){Base.call(this,g);var h=this,i=i||{},c=this.stats,a=Base.window.width*0.5|0,e=g.total,b=0,f=Math.max,d=-1;i.open=i.open||"[";i.complete=i.complete||"â–¬";i.incomplete=i.incomplete||Base.symbols.dot;i.close=i.close||"]";i.verbose=false;g.on("start",function(){console.log();cursor.hide()});g.on("test end",function(){b++;var j=e-b,l=b/e,m=a*l|0,k=a-m;if(d===m&&!i.verbose){return}d=m;cursor.CR();process.stdout.write("\u001b[J");process.stdout.write(color("progress","  "+i.open));process.stdout.write(Array(m).join(i.complete));process.stdout.write(Array(k).join(i.incomplete));process.stdout.write(color("progress",i.close));if(i.verbose){process.stdout.write(color("progress"," "+b+" of "+e))}});g.on("end",function(){cursor.show();console.log();h.epilogue()})}Progress.prototype.__proto__=Base.prototype;