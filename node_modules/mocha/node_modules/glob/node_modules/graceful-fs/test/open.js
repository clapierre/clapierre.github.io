var test=require("tap").test;var fs=require("../graceful-fs.js");test("graceful fs is monkeypatched fs",function(a){a.equal(fs,require("fs"));a.end()});test("open an existing file works",function(b){var a=fs.openSync(__filename,"r");fs.closeSync(a);fs.open(__filename,"r",function(d,c){if(d){throw d}fs.close(c,function(e){if(e){throw e}b.pass("works");b.end()})})});test("open a non-existing file throws",function(c){var d;try{var b=fs.openSync("this file does not exist","r")}catch(a){d=a}c.ok(d,"should throw");c.notOk(b,"should not get an fd");c.equal(d.code,"ENOENT");fs.open("neither does this file","r",function(f,e){c.ok(f,"should throw");c.notOk(e,"should not get an fd");c.equal(f.code,"ENOENT");c.end()})});