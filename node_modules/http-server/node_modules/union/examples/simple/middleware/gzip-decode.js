var spawn=require("child_process").spawn,util=require("util"),RequestStream=require("../../lib").RequestStream;var GzipDecode=module.exports=function GzipDecoder(a){RequestStream.call(this,a);this.on("pipe",this.decode)};util.inherits(GzipDecode,RequestStream);GzipDecode.prototype.decode=function(a){this.decoder=spawn("gunzip");this.decoder.stdout.on("data",this._onGunzipData.bind(this));this.decoder.stdout.on("end",this._onGunzipEnd.bind(this));a.pipe(this.decoder)};GzipDecoderStack.prototype._onGunzipData=function(a){this.emit("data",a)};GzipDecoderStack.prototype._onGunzipEnd=function(){this.emit("end")};