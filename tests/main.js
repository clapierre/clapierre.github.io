mocha.setup("bdd");mocha.reporter("html");Function.prototype.bind=Function.prototype.bind||function(a){var b=this;return function(){return b.apply(a,arguments)}};(function(){var c,d,b,a=window.location.search;c=!!a.match(/[?&]?built(=[^&]*)?(&|$)/);if(c){d="_build/src";b="../../"}else{d="src";b="../"}console.log("loading Vellum from "+d);define("jquery",[b+"bower_components/jquery/dist/jquery"],function(){return window.jQuery});define("jquery.bootstrap",["jquery",b+"lib/bootstrap"],function(){});require.config({baseUrl:d,paths:{"jquery.vellum":"main",tests:b+"tests"}});require(["jquery","jquery.vellum"],function(e){require.config({waitSeconds:60,paths:{"static":b+"tests/static",chai:b+"bower_components/chai/chai","equivalent-xml":b+"bower_components/equivalent-xml-js/src/equivalent-xml"},shim:{"equivalent-xml":{deps:["underscore"],exports:"EquivalentXml"}}});if(c){require.config({paths:{text:"../bower_components/requirejs-text",tpl:"../bower_components/requirejs-tpl",less:"error",json:"error"}});e("head").append('<link rel="stylesheet" type="text/css" href="_build/style.css">')}require(["tests/options","tests/base","tests/core","tests/form","tests/logic","tests/mugs","tests/parser","tests/questionTypes","tests/exporter","tests/widgets","tests/writer","tests/commtrack","tests/copy-paste","tests/javaRosa","tests/modeliteration","tests/intentManager","tests/diffDataParent","tests/formdesigner.ignoreButRetain","tests/formdesigner.lock","tests/itemset","tests/advancedItemsets","tests/tsv","tests/xml","tests/saveToCase","tests/markdown","tests/datasources","tests/databrowser","tests/saveToCase","tests/setvalue",],function(f){var j=window.sessionStorage;function g(){function k(){e(".sidebar .nav #resultsTab a").click();return false}if(window.mochaPhantomJS){mochaPhantomJS.run()}else{e(".sidebar #mocha-stats").remove();mocha.run();e("#mocha-stats").css({"margin-top":"3em",position:"relative",left:0,top:0}).appendTo(".sidebar");e("#mocha-stats li").css({display:"block"});e("#mocha-stats li.progress").css({height:"40px"});e("#mocha-stats li.passes a").click(k);e("#mocha-stats li.failures a").click(k)}}e("#run-tests").click(g);setTimeout(function(){if(window.mochaPhantomJS){g()}},1000);function i(k){e("#vellum").empty().vellum(e.extend(true,{},f.options,{core:{saveUrl:function(l){j.setItem("vellum.tests.main.lastSavedForm",l.xform)},patchUrl:function(l){return{status:"conflict"}},form:k}}));setTimeout(function(){e(document).scroll()},500)}e("#load-saved").click(function(){i(j.getItem("vellum.tests.main.lastSavedForm")||"")});i("");function h(l){var m=l.target.files[0],k=new FileReader();k.onload=(function(n){return function(o){i(o.target.result)}})(m);k.readAsText(m)}document.getElementById("file").addEventListener("change",h,false)})})})();