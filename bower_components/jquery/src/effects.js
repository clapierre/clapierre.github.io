define(["./core","./var/pnum","./css/var/cssExpand","./css/var/isHidden","./css/defaultDisplay","./effects/support","./core/init","./effects/Tween","./queue","./css","./deferred","./traversing"],function(m,b,d,g,i,l){var f,k,c=/^(?:toggle|show|hide)$/,e=new RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),n=/queueHooks$/,h=[j],a={"*":[function(t,z){var B=this.createTween(t,z),x=B.cur(),w=e.exec(z),A=w&&w[3]||(m.cssNumber[t]?"":"px"),u=(m.cssNumber[t]||A!=="px"&&+x)&&e.exec(m.css(B.elem,t)),v=1,y=20;if(u&&u[3]!==A){A=A||u[3];w=w||[];u=+x||1;do{v=v||".5";u=u/v;m.style(B.elem,t,u+A)}while(v!==(v=B.cur()/x)&&v!==1&&--y)}if(w){u=B.start=+u||+x||0;B.unit=A;B.end=w[1]?u+(w[1]+1)*w[2]:+w[2]}return B}]};function o(){setTimeout(function(){f=undefined});return(f=m.now())}function q(v,x){var w,t={height:v},u=0;x=x?1:0;for(;u<4;u+=2-x){w=d[u];t["margin"+w]=t["padding"+w]=v}if(x){t.opacity=t.width=v}return t}function p(x,z,w){var u,y=(a[z]||[]).concat(a["*"]),t=0,v=y.length;for(;t<v;t++){if((u=y[t].call(w,z,x))){return u}}}function j(w,B,t){var v,E,y,H,I,F,A,D,x=this,C={},u=w.style,z=w.nodeType&&g(w),G=m._data(w,"fxshow");if(!t.queue){I=m._queueHooks(w,"fx");if(I.unqueued==null){I.unqueued=0;F=I.empty.fire;I.empty.fire=function(){if(!I.unqueued){F()}}}I.unqueued++;x.always(function(){x.always(function(){I.unqueued--;if(!m.queue(w,"fx").length){I.empty.fire()}})})}if(w.nodeType===1&&("height" in B||"width" in B)){t.overflow=[u.overflow,u.overflowX,u.overflowY];A=m.css(w,"display");D=A==="none"?m._data(w,"olddisplay")||i(w.nodeName):A;if(D==="inline"&&m.css(w,"float")==="none"){if(!l.inlineBlockNeedsLayout||i(w.nodeName)==="inline"){u.display="inline-block"}else{u.zoom=1}}}if(t.overflow){u.overflow="hidden";if(!l.shrinkWrapBlocks()){x.always(function(){u.overflow=t.overflow[0];u.overflowX=t.overflow[1];u.overflowY=t.overflow[2]})}}for(v in B){E=B[v];if(c.exec(E)){delete B[v];y=y||E==="toggle";if(E===(z?"hide":"show")){if(E==="show"&&G&&G[v]!==undefined){z=true}else{continue}}C[v]=G&&G[v]||m.style(w,v)}else{A=undefined}}if(!m.isEmptyObject(C)){if(G){if("hidden" in G){z=G.hidden}}else{G=m._data(w,"fxshow",{})}if(y){G.hidden=!z}if(z){m(w).show()}else{x.done(function(){m(w).hide()})}x.done(function(){var J;m._removeData(w,"fxshow");for(J in C){m.style(w,J,C[J])}});for(v in C){H=p(z?G[v]:0,v,x);if(!(v in G)){G[v]=H.start;if(z){H.end=H.start;H.start=v==="width"||v==="height"?1:0}}}}else{if((A==="none"?i(w.nodeName):A)==="inline"){u.display=A}}}function r(w,y){var v,u,z,x,t;for(v in w){u=m.camelCase(v);z=y[u];x=w[v];if(m.isArray(x)){z=x[1];x=w[v]=x[0]}if(v!==u){w[u]=x;delete w[v]}t=m.cssHooks[u];if(t&&"expand" in t){x=t.expand(x);delete w[u];for(v in x){if(!(v in w)){w[v]=x[v];y[v]=z}}}else{y[u]=z}}}function s(v,z,C){var D,t,y=0,u=h.length,B=m.Deferred().always(function(){delete x.elem}),x=function(){if(t){return false}var J=f||o(),G=Math.max(0,w.startTime+w.duration-J),E=G/w.duration||0,I=1-E,F=0,H=w.tweens.length;for(;F<H;F++){w.tweens[F].run(I)}B.notifyWith(v,[w,I,G]);if(I<1&&H){return G}else{B.resolveWith(v,[w]);return false}},w=B.promise({elem:v,props:m.extend({},z),opts:m.extend(true,{specialEasing:{}},C),originalProperties:z,originalOptions:C,startTime:f||o(),duration:C.duration,tweens:[],createTween:function(G,E){var F=m.Tween(v,w.opts,G,E,w.opts.specialEasing[G]||w.opts.easing);w.tweens.push(F);return F},stop:function(F){var E=0,G=F?w.tweens.length:0;if(t){return this}t=true;for(;E<G;E++){w.tweens[E].run(1)}if(F){B.resolveWith(v,[w,F])}else{B.rejectWith(v,[w,F])}return this}}),A=w.props;r(A,w.opts.specialEasing);for(;y<u;y++){D=h[y].call(w,v,A,w.opts);if(D){return D}}m.map(A,p,w);if(m.isFunction(w.opts.start)){w.opts.start.call(v,w)}m.fx.timer(m.extend(x,{elem:v,anim:w,queue:w.opts.queue}));return w.progress(w.opts.progress).done(w.opts.done,w.opts.complete).fail(w.opts.fail).always(w.opts.always)}m.Animation=m.extend(s,{tweener:function(u,x){if(m.isFunction(u)){x=u;u=["*"]}else{u=u.split(" ")}var w,t=0,v=u.length;for(;t<v;t++){w=u[t];a[w]=a[w]||[];a[w].unshift(x)}},prefilter:function(u,t){if(t){h.unshift(u)}else{h.push(u)}}});m.speed=function(v,w,u){var t=v&&typeof v==="object"?m.extend({},v):{complete:u||!u&&w||m.isFunction(v)&&v,duration:v,easing:u&&w||w&&!m.isFunction(w)&&w};t.duration=m.fx.off?0:typeof t.duration==="number"?t.duration:t.duration in m.fx.speeds?m.fx.speeds[t.duration]:m.fx.speeds._default;if(t.queue==null||t.queue===true){t.queue="fx"}t.old=t.complete;t.complete=function(){if(m.isFunction(t.old)){t.old.call(this)}if(t.queue){m.dequeue(this,t.queue)}};return t};m.fn.extend({fadeTo:function(t,w,v,u){return this.filter(g).css("opacity",0).show().end().animate({opacity:w},t,v,u)},animate:function(z,w,y,x){var v=m.isEmptyObject(z),t=m.speed(w,y,x),u=function(){var A=s(this,m.extend({},z),t);if(v||m._data(this,"finish")){A.stop(true)}};u.finish=u;return v||t.queue===false?this.each(u):this.queue(t.queue,u)},stop:function(v,u,t){var w=function(x){var y=x.stop;delete x.stop;y(t)};if(typeof v!=="string"){t=u;u=v;v=undefined}if(u&&v!==false){this.queue(v||"fx",[])}return this.each(function(){var A=true,x=v!=null&&v+"queueHooks",z=m.timers,y=m._data(this);if(x){if(y[x]&&y[x].stop){w(y[x])}}else{for(x in y){if(y[x]&&y[x].stop&&n.test(x)){w(y[x])}}}for(x=z.length;x--;){if(z[x].elem===this&&(v==null||z[x].queue===v)){z[x].anim.stop(t);A=false;z.splice(x,1)}}if(A||!t){m.dequeue(this,v)}})},finish:function(t){if(t!==false){t=t||"fx"}return this.each(function(){var w,z=m._data(this),v=z[t+"queue"],u=z[t+"queueHooks"],y=m.timers,x=v?v.length:0;z.finish=true;m.queue(this,t,[]);if(u&&u.stop){u.stop.call(this,true)}for(w=y.length;w--;){if(y[w].elem===this&&y[w].queue===t){y[w].anim.stop(true);y.splice(w,1)}}for(w=0;w<x;w++){if(v[w]&&v[w].finish){v[w].finish.call(this)}}delete z.finish})}});m.each(["toggle","show","hide"],function(u,t){var v=m.fn[t];m.fn[t]=function(w,y,x){return w==null||typeof w==="boolean"?v.apply(this,arguments):this.animate(q(t,true),w,y,x)}});m.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,u){m.fn[t]=function(v,x,w){return this.animate(u,v,x,w)}});m.timers=[];m.fx.tick=function(){var v,u=m.timers,t=0;f=m.now();for(;t<u.length;t++){v=u[t];if(!v()&&u[t]===v){u.splice(t--,1)}}if(!u.length){m.fx.stop()}f=undefined};m.fx.timer=function(t){m.timers.push(t);if(t()){m.fx.start()}else{m.timers.pop()}};m.fx.interval=13;m.fx.start=function(){if(!k){k=setInterval(m.fx.tick,m.fx.interval)}};m.fx.stop=function(){clearInterval(k);k=null};m.fx.speeds={slow:600,fast:200,_default:400};return m});