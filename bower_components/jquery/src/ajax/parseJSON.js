define(["../core"],function(b){var a=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(c){if(window.JSON&&window.JSON.parse){return window.JSON.parse(c+"")}var f,e=null,d=b.trim(c+"");return d&&!b.trim(d.replace(a,function(i,g,h,j){if(f&&g){e=0}if(e===0){return i}f=h||g;e+=!j-!h;return""}))?(Function("return "+d))():b.error("Invalid JSON: "+c)};return b.parseJSON});