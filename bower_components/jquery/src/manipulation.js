define(["./core","./var/strundefined","./var/concat","./var/push","./var/deletedIds","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./core/init","./data/accepts","./traversing","./selector","./event"],function(s,C,i,k,l,g,x,r){function n(H){var J=a.split("|"),I=H.createDocumentFragment();if(I.createElement){while(J.length){I.createElement(J.pop())}}return I}var a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",t=/ jQuery\d+="(?:null|\d+)"/g,p=new RegExp("<(?:"+a+")[\\s/>]","i"),F=/^\s+/,o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,c=/<([\w:]+)/,b=/<tbody/i,y=/<|&#?\w+;/,e=/<(?:script|style|link)/i,j=/checked\s*(?:[^=]|=\s*.checked.)/i,m=/^$|\/(?:java|ecma)script/i,A=/^true\/(.*)/,d=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,u={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:r.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},z=n(document),f=z.appendChild(document.createElement("div"));u.optgroup=u.option;u.tbody=u.tfoot=u.colgroup=u.caption=u.thead;u.th=u.td;function v(K,H){var I,L,J=0,M=typeof K.getElementsByTagName!==C?K.getElementsByTagName(H||"*"):typeof K.querySelectorAll!==C?K.querySelectorAll(H||"*"):undefined;if(!M){for(M=[],I=K.childNodes||K;(L=I[J])!=null;J++){if(!H||s.nodeName(L,H)){M.push(L)}else{s.merge(M,v(L,H))}}}return H===undefined||H&&s.nodeName(K,H)?s.merge([K],M):M}function G(H){if(x.test(H.type)){H.defaultChecked=H.checked}}function E(I,H){return s.nodeName(I,"table")&&s.nodeName(H.nodeType!==11?H:H.firstChild,"tr")?I.getElementsByTagName("tbody")[0]||I.appendChild(I.ownerDocument.createElement("tbody")):I}function D(H){H.type=(s.find.attr(H,"type")!==null)+"/"+H.type;return H}function h(I){var H=A.exec(I.type);if(H){I.type=H[1]}else{I.removeAttribute("type")}return I}function B(H,J){var K,I=0;for(;(K=H[I])!=null;I++){s._data(K,"globalEval",!J||s._data(J[I],"globalEval"))}}function w(O,I){if(I.nodeType!==1||!s.hasData(O)){return}var L,K,H,N=s._data(O),M=s._data(I,N),J=N.events;if(J){delete M.handle;M.events={};for(L in J){for(K=0,H=J[L].length;K<H;K++){s.event.add(I,L,J[L][K])}}}if(M.data){M.data=s.extend({},M.data)}}function q(K,H){var L,J,I;if(H.nodeType!==1){return}L=H.nodeName.toLowerCase();if(!r.noCloneEvent&&H[s.expando]){I=s._data(H);for(J in I.events){s.removeEvent(H,J,I.handle)}H.removeAttribute(s.expando)}if(L==="script"&&H.text!==K.text){D(H).text=K.text;h(H)}else{if(L==="object"){if(H.parentNode){H.outerHTML=K.outerHTML}if(r.html5Clone&&(K.innerHTML&&!s.trim(H.innerHTML))){H.innerHTML=K.innerHTML}}else{if(L==="input"&&x.test(K.type)){H.defaultChecked=H.checked=K.checked;if(H.value!==K.value){H.value=K.value}}else{if(L==="option"){H.defaultSelected=H.selected=K.defaultSelected}else{if(L==="input"||L==="textarea"){H.defaultValue=K.defaultValue}}}}}}s.extend({clone:function(I,K,H){var M,J,P,L,N,O=s.contains(I.ownerDocument,I);if(r.html5Clone||s.isXMLDoc(I)||!p.test("<"+I.nodeName+">")){P=I.cloneNode(true)}else{f.innerHTML=I.outerHTML;f.removeChild(P=f.firstChild)}if((!r.noCloneEvent||!r.noCloneChecked)&&(I.nodeType===1||I.nodeType===11)&&!s.isXMLDoc(I)){M=v(P);N=v(I);for(L=0;(J=N[L])!=null;++L){if(M[L]){q(J,M[L])}}}if(K){if(H){N=N||v(I);M=M||v(P);for(L=0;(J=N[L])!=null;L++){w(J,M[L])}}else{w(I,P)}}M=v(P,"script");if(M.length>0){B(M,!O&&v(I,"script"))}M=N=J=null;return P},buildFragment:function(I,K,P,U){var Q,M,O,T,V,S,J,N=I.length,L=n(K),H=[],R=0;for(;R<N;R++){M=I[R];if(M||M===0){if(s.type(M)==="object"){s.merge(H,M.nodeType?[M]:M)}else{if(!y.test(M)){H.push(K.createTextNode(M))}else{T=T||L.appendChild(K.createElement("div"));V=(c.exec(M)||["",""])[1].toLowerCase();J=u[V]||u._default;T.innerHTML=J[1]+M.replace(o,"<$1></$2>")+J[2];Q=J[0];while(Q--){T=T.lastChild}if(!r.leadingWhitespace&&F.test(M)){H.push(K.createTextNode(F.exec(M)[0]))}if(!r.tbody){M=V==="table"&&!b.test(M)?T.firstChild:J[1]==="<table>"&&!b.test(M)?T:0;Q=M&&M.childNodes.length;while(Q--){if(s.nodeName((S=M.childNodes[Q]),"tbody")&&!S.childNodes.length){M.removeChild(S)}}}s.merge(H,T.childNodes);T.textContent="";while(T.firstChild){T.removeChild(T.firstChild)}T=L.lastChild}}}}if(T){L.removeChild(T)}if(!r.appendChecked){s.grep(v(H,"input"),G)}R=0;while((M=H[R++])){if(U&&s.inArray(M,U)!==-1){continue}O=s.contains(M.ownerDocument,M);T=v(L.appendChild(M),"script");if(O){B(T)}if(P){Q=0;while((M=T[Q++])){if(m.test(M.type||"")){P.push(M)}}}}T=null;return L},cleanData:function(I,Q){var K,P,J,L,M=0,R=s.expando,H=s.cache,N=r.deleteExpando,O=s.event.special;for(;(K=I[M])!=null;M++){if(Q||s.acceptData(K)){J=K[R];L=J&&H[J];if(L){if(L.events){for(P in L.events){if(O[P]){s.event.remove(K,P)}else{s.removeEvent(K,P,L.handle)}}}if(H[J]){delete H[J];if(N){delete K[R]}else{if(typeof K.removeAttribute!==C){K.removeAttribute(R)}else{K[R]=null}}l.push(J)}}}}}});s.fn.extend({text:function(H){return g(this,function(I){return I===undefined?s.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(I))},null,H,arguments.length)},append:function(){return this.domManip(arguments,function(H){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=E(this,H);I.appendChild(H)}})},prepend:function(){return this.domManip(arguments,function(H){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=E(this,H);I.insertBefore(H,I.firstChild)}})},before:function(){return this.domManip(arguments,function(H){if(this.parentNode){this.parentNode.insertBefore(H,this)}})},after:function(){return this.domManip(arguments,function(H){if(this.parentNode){this.parentNode.insertBefore(H,this.nextSibling)}})},remove:function(H,L){var K,I=H?s.filter(H,this):this,J=0;for(;(K=I[J])!=null;J++){if(!L&&K.nodeType===1){s.cleanData(v(K))}if(K.parentNode){if(L&&s.contains(K.ownerDocument,K)){B(v(K,"script"))}K.parentNode.removeChild(K)}}return this},empty:function(){var I,H=0;for(;(I=this[H])!=null;H++){if(I.nodeType===1){s.cleanData(v(I,false))}while(I.firstChild){I.removeChild(I.firstChild)}if(I.options&&s.nodeName(I,"select")){I.options.length=0}}return this},clone:function(I,H){I=I==null?false:I;H=H==null?I:H;return this.map(function(){return s.clone(this,I,H)})},html:function(H){return g(this,function(L){var K=this[0]||{},J=0,I=this.length;if(L===undefined){return K.nodeType===1?K.innerHTML.replace(t,""):undefined}if(typeof L==="string"&&!e.test(L)&&(r.htmlSerialize||!p.test(L))&&(r.leadingWhitespace||!F.test(L))&&!u[(c.exec(L)||["",""])[1].toLowerCase()]){L=L.replace(o,"<$1></$2>");try{for(;J<I;J++){K=this[J]||{};if(K.nodeType===1){s.cleanData(v(K,false));K.innerHTML=L}}K=0}catch(M){}}if(K){this.empty().append(L)}},null,H,arguments.length)},replaceWith:function(){var H=arguments[0];this.domManip(arguments,function(I){H=this.parentNode;s.cleanData(v(this));if(H){H.replaceChild(I,this)}});return H&&(H.length||H.nodeType)?this:this.remove()},detach:function(H){return this.remove(H,true)},domManip:function(P,U){P=i.apply([],P);var N,J,H,L,S,O,M=0,K=this.length,R=this,T=K-1,Q=P[0],I=s.isFunction(Q);if(I||(K>1&&typeof Q==="string"&&!r.checkClone&&j.test(Q))){return this.each(function(W){var V=R.eq(W);if(I){P[0]=Q.call(this,W,V.html())}V.domManip(P,U)})}if(K){O=s.buildFragment(P,this[0].ownerDocument,false,this);N=O.firstChild;if(O.childNodes.length===1){O=N}if(N){L=s.map(v(O,"script"),D);H=L.length;for(;M<K;M++){J=O;if(M!==T){J=s.clone(J,true,true);if(H){s.merge(L,v(J,"script"))}}U.call(this[M],J,M)}if(H){S=L[L.length-1].ownerDocument;s.map(L,h);for(M=0;M<H;M++){J=L[M];if(m.test(J.type||"")&&!s._data(J,"globalEval")&&s.contains(S,J)){if(J.src){if(s._evalUrl){s._evalUrl(J.src)}}else{s.globalEval((J.text||J.textContent||J.innerHTML||"").replace(d,""))}}}}O=N=null}}return this}});s.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(H,I){s.fn[H]=function(J){var K,M=0,L=[],O=s(J),N=O.length-1;for(;M<=N;M++){K=M===N?this:this.clone(true);s(O[M])[I](K);k.apply(L,K.get())}return this.pushStack(L)}});return s});