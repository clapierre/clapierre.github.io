(function(a){a(function(d){var b,c,i,j,f;b=d("./when");j=d;try{f=j("vertx");c=function(k,e){return f.setTimer(e,k)};i=f.cancelTimer}catch(h){c=setTimeout;i=clearTimeout}return function g(l,e){if(typeof e==="number"){var k=e;e=l;l=k}return b.promise(function(p,o,m){var q=c(function r(){o(new Error("timed out after "+l+"ms"))},l);b(e,function n(t){i(q);p(t)},function s(t){i(q);o(t)},m)})}})})(typeof define==="function"&&define.amd?define:function(a){module.exports=a(require)});